/**
 * Пример использования ядра с модулями
 * 
 * Этот файл показывает, как клиент (покупатель) может использовать ваше ядро
 * и добавлять свои собственные модули для расширения функциональности.
 */

import { bootstrap } from './core/bootstrap';
import App from './App.vue';

// Импортируем модули, которые хотим использовать
// Собственные модули клиента
import customModule from './modules/custom'; // Это будет модуль, созданный клиентом

// Инициализация приложения с ядром и модулями
bootstrap({
  rootComponent: App,
  rootElement: '#app',
  modules: [
    // Здесь можно указать как строковые имена модулей для динамической загрузки
    'example', // Это загрузит модуль из /src/modules/example
    
    // Так и напрямую импортированные модули
    customModule,
    
    // Можно также определить встроенный модуль
    {
      name: 'inline-module',
      extend: (core) => {
        // Пример переопределения настроек ядра
        core.extendConfig({
          appName: 'Приложение клиента',
          logo: '/assets/custom-logo.svg',
          theme: {
            primary: '#2196F3', // Синий цвет вместо стандартного
            secondary: '#FFC107', // Желтый вторичный цвет
          },
        });
      },
    },
  ],
  // Если нужно отключить проверку лицензии ядра (например, для разработки)
  useCoreLicense: false,
})
.then(({ app, router, pinia }) => {
  console.log('Приложение успешно инициализировано!');
  
  // Здесь может быть дополнительный код инициализации
})
.catch((error) => {
  console.error('Ошибка инициализации приложения:', error);
}); 